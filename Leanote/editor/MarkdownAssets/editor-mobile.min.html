<!DOCTYPE html>
<html lang=zh>
    <head>
        <meta charset=utf-8>
            <meta http-equiv=X-UA-Compatible content="IE=edge">
                <meta name=viewport
                    content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
                    <title>Leanote Markdown Editor</title>
                    <style>
                        code{
                            font-family: "Courier New",Consolas,monospace !important;
                            background-color: #f9f2f4;
                            color: #c7254e;
                            font-size: 90%;
                            padding: 2px 4px;
                            border-radius: 4px;
                        }
                    pre code{
                        font-family: Consolas,monospace !important;
                        background-color: inherit;
                        border-radius: 0;
                        color: inherit;
                        padding: 0;
                        white-space: pre-wrap;
                    }
                    pre.prettyprint * {
                        font-family: Monaco, Menlo, 'Ubuntu Mono', Consolas, source-code-pro, 'Hiragino Sans GB', 'Microsoft YaHei', 微软雅黑 !important;
                    }
                    blockquote {
                        border-top-right-radius: 5px;
                        border-bottom-right-radius: 5px;
                        padding: 15px 20px;
                        border-left: 10px solid #D6DBDF;
                        background: rgba(102,128,153,.05);
                    }
                    
                    
                    
                        </style>
    </head>
    <body class="clearfix writting">
        <div id=title placeholderText="Title" class=field contenteditable=false></div>
        <div contenteditable=false id=separatorDiv>
            <hr>
        </div>
        <div id=mdEditor>
            <div class=layout-wrapper-l1>
                <div class=layout-wrapper-l2>
                    <div class=layout-wrapper-l3>
                        <div id=left-column>
                            <pre id=wmd-input class=form-control><div id=wmd-input-sub
                                class="editor-content mousetrap field"
                                placeholderText="Content"
                                contenteditable=false></div><div
                                    class=editor-margin></div></pre>
                        </div>
                        <div id=right-column>
                            <div class="preview-panel panel-open" id=preview-panel>
                                <div class=preview-container>
                                    <div id=preview-contents>
                                        <div id=wmd-preview class=preview-content></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="navbar navbar-default" id=tools>
                        <div class=navbar-inner id=wmd-button-bar>
                            <ul class="nav left-buttons">
                                <li class="wmd-button-group1 btn-group"></li>
                            </ul>
                            <ul class="nav left-buttons">
                                <li class="wmd-button-group2 btn-group"></li>
                            </ul>
                            <ul class="nav left-buttons">
                                <li class="wmd-button-group3 btn-group"></li>
                            </ul>
                            <ul class="nav left-buttons">
                                <li class="wmd-button-group5 btn-group"></li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!--<link rel="stylesheet" href="fromDesktop/bootstrap.css">
         <link rel="stylesheet" href="fromDesktop/meditor.css">
         <link rel="stylesheet" href="fromDesktop/themes/markdown/default/index.css">
         <link rel="stylesheet" href="fromDesktop/themes/default.css">-->
        <link rel=stylesheet href=all.css>
            <script src=all.js></script>
            <script>
                // lang
                var ms = location.href.match(/lang=(.+)/);
                var lang = 'en';
                if (ms) {
                    lang = ms[1].toLowerCase();
                }
            if (lang.indexOf('zh') >= 0) {
                $('#title').attr('placeholderText', '标题')
                $('#wmd-input-sub').attr('placeholderText', '内容')
            }
             function resetTitleCounter(level, secNames){
                var targetList = $(".wmd-preview-section "+level);
                if(undefined != targetList && null != targetList){
                    for(var i = 0; i < targetList.length; i++){
                        $(targetList[i].parentNode).css("counter-reset", secNames);
                    }
                }
            }
            
             function autoNumTitle(){
                // $($(".wmd-preview-section h1")[1].parentNode).css("counter-reset", "sec2 sec3 sec4 sec5 sec6 sec7");
                resetTitleCounter("h1", "sec2 sec3 sec4 sec5 sec6 sec7 sec8 sec9");
                resetTitleCounter("h2", "sec3 sec4 sec5 sec6 sec7 sec8 sec9");
                resetTitleCounter("h3", "sec4 sec5 sec6 sec7 sec8 sec9");
                resetTitleCounter("h4", "sec5 sec6 sec7 sec8 sec9");
                resetTitleCounter("h5", "sec6 sec7 sec8 sec9");
                resetTitleCounter("h6", "sec7 sec8 sec9");
                resetTitleCounter("h7", "sec8 sec9");
                resetTitleCounter("h8", "sec9");
                console.log('%c counter-reset','background:#F781F3;color:#0101DF', '生效');
            }
            
            function setTitleAndContent(title, content) {
                document.getElementById('title').innerHTML = title;
                ZSSEditor.getField('mdEditor').setHTML(content);
                hostApp.loadCompleted();
                autoNumTitle();
                return "";
            }
            
            
            
            
            
                </script>
    </body>
</html>
